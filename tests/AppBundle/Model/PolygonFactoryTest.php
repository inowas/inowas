<?php

namespace Tests\AppBundle\Model;

use AppBundle\Model\PolygonFactory;
use CrEOF\Spatial\PHP\Types\Geometry\Polygon;

class PolygonFactoryTest extends \PHPUnit_Framework_TestCase
{
    public function testFromLatLng(){
        $json = '[{"lat":21.094425932026,"lng":105.79076773363},{"lat":21.093521487879,"lng":105.7969598434},{"lat":21.092234483652,"lng":105.80201706033},{"lat":21.090442258425,"lng":105.80808425974},{"lat":21.08874528577,"lng":105.81249937936},{"lat":21.086246452411,"lng":105.81718985777},{"lat":21.083084791162,"lng":105.82184988092},{"lat":21.080549811907,"lng":105.82620668519},{"lat":21.077143263498,"lng":105.82974566655},{"lat":21.073871989488,"lng":105.83373828447},{"lat":21.068790508713,"lng":105.83705437197},{"lat":21.061619066459,"lng":105.84315647783},{"lat":21.058494488217,"lng":105.84525729705},{"lat":21.055416254107,"lng":105.84809106469},{"lat":21.05983204184419,"lng":105.86030960083008},{"lat":21.047219935886,"lng":105.85398642619},{"lat":21.042700799257,"lng":105.85731779774},{"lat":21.037730164508,"lng":105.86088616529},{"lat":21.033668431681,"lng":105.86278107729},{"lat":21.028476242159,"lng":105.86562845881},{"lat":21.022613568027,"lng":105.86751271361},{"lat":21.017651320651,"lng":105.86940204857},{"lat":21.01342644222,"lng":105.87138878204},{"lat":21.008166192541,"lng":105.87284994574},{"lat":21.003946864459,"lng":105.87618166477},{"lat":21.001813076332,"lng":105.882508712},{"lat":21.00028845236,"lng":105.88949176703},{"lat":20.997811850332,"lng":105.89432480733},{"lat":20.994990356212,"lng":105.89813016273},{"lat":20.989098851962,"lng":105.90303557489},{"lat":20.984707849769,"lng":105.90561925316},{"lat":20.977094091795,"lng":105.90510730986},{"lat":20.969670720259,"lng":105.9017071448},{"lat":20.959195015806,"lng":105.89605227287},{"lat":20.950138230158,"lng":105.88686516703},{"lat":20.947208019283,"lng":105.87790127444},{"lat":20.951978316228,"lng":105.8344990677},{"lat":20.968923300374,"lng":105.80625764634},{"lat":21.00860854901,"lng":105.78185697817},{"lat":21.039487418417,"lng":105.76821653259},{"lat":21.072902571997,"lng":105.77435758569},{"lat":21.090749775345,"lng":105.77706202591},{"lat":21.093961473087,"lng":105.78304910633}]';
        $this->assertInstanceOf(Polygon::class, PolygonFactory::fromLatLngs(json_decode($json)));
    }
}
